/**!
 * Compiler-Utility [v1.7] created by 0znzw.
 * https://scratch.mit.edu/users/0znzw/
 * Patch code by CST1229
 * https://scratch.mit.edu/users/CST1229/
 * Licensed under MIT license.
 * DO NOT REMOVE THIS COMMENT
 * Production
 */
// @ts-ignore
// prettier-ignore
function anon$compilerUtility(e){const t=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r=window.vm,n=e;if(t(n,"enableDebug")||n.enableDebug,!function(){if(!t(r.exports,"Compiler")){if(r.exports.Compiler={},!t(r.exports,"IRGenerator")&&!t(r.exports,"JSGenerator"))return console.error("Could not find working compiler exports :cri:"),!1;if(!t(r.exports,"jsexecute"))return console.error("Could not find working jsexecute export :cri:"),!1;const e=r.exports.IRGenerator,n=r.exports.JSGenerator,o=r.exports.jsexecute;if(!t(e,"exports"))return console.error("Could not find exports for IRGenerator."),!1;if(!t(n,"exports"))return console.error("Could not find exports for JSGenerator."),!1;if(!t(e.exports,"ScriptTreeGenerator"))return console.error("Could not find ScriptTreeGenerator in IRGenerator exports."),!1;const i=e.exports.ScriptTreeGenerator;if(!t(n.exports,"ConstantInput"))return console.error("Could not find ConstantInput in JSGenerator exports."),!1;const s=n.exports.ConstantInput;if(!t(n.exports,"TypedInput"))return console.error("Could not find TypedInput in JSGenerator exports."),!1;const c=n.exports.TypedInput;if(!t(n.exports,"Frame"))return console.error("Could not find Frame in JSGenerator exports."),!1;const p=n.exports.Frame;return r.exports.Compiler={Frame:p,ConstantInput:s,TypedInput:c,ScriptTreeGenerator:i,IRGenerator:e,JSGenerator:n,jsexecute:o},2}return!0}())return!1;r.enableDebug();const o=r.exports.Compiler;r.compiler={compilerExport:o,utilityVersion:1.7,__internal__:{descendStackedBlock_JSG(e,t){const n=r.compiler.nodeMixin.__internal__.mixins,o=t.kind;let i=n[o];if(!i&&n["*"]&&(i=n["*"]),!i)return e(t);if("function"==typeof i){const e=this.source;this.source="",this.overrideSource=e,i=i(function(...e){return this.$patches.descendStackedBlock.apply(this,[t]),this}.bind(this),t),e!==this.overrideSource?this.source=this.overrideSource:this.source=e}this.source+=`/*mixin:${o}*/${i}`,this.source.endsWith("\n")||(this.source+="\n")},descendInput_JSG(e,t){const n=r.compiler.jsInputMixin.__internal__.mixins;let o=n[t.kind];return!o&&n["*"]&&(o=n["*"]),o?("function"==typeof o&&(o=o(e,t)),o):e(t)},descendInput_STG(e,t){const n=r.compiler.inputMixin.__internal__.mixins[t.opcode];return n?"function"==typeof n?n.apply(this,[t]):n:e(t)},descendStackedBlock_STG(e,t){const n=r.compiler.blockMixin.__internal__.mixins[t.opcode];return n?"function"==typeof n?n.apply(this,[t]):n:e(t)},descendStackedBlock_IRG(e,t){const n=r.compiler.irBlockMixin.__internal__.mixins[t.opcode];return n?"function"==typeof n?n.apply(this,[t]):void 0:e(t)}},type:{NUMBER:1,STRING:2,BOOLEAN:3,UNKNOWN:4,NAN:5},tools:{JSGenerator:o.JSGenerator,jsexecute:o.jsexecute,IRGenerator:o.IRGenerator,compileThread:o.compileThread,ScriptTreeGenerator:o.IRGenerator.exports.ScriptTreeGenerator},inputs:{Typed:o.JSGenerator.exports.TypedInput,Constant:o.JSGenerator.exports.ConstantInput,Frame:o.JSGenerator.exports.Frame},inputMixin:{__internal__:{mixins:{}},register(e,t){this.__internal__.mixins[e]=t},remove(e){delete this.__internal__.mixins[e]}},jsInputMixin:{__internal__:{mixins:{}},register(e,t){this.__internal__.mixins[e]=t},remove(e){delete this.__internal__.mixins[e]}},blockMixin:{__internal__:{mixins:{}},register(e,t){"function"!=typeof t&&console.warn("Hey mixin needs to be a function or it wont register!");this.__internal__.mixins[e]=t},remove(e){delete this.__internal__.mixins[e]}},irBlockMixin:{__internal__:{mixins:{}},register(e,t){this.__internal__.mixins[e]=t},remove(e){delete this.__internal__.mixins[e]}},nodeMixin:{__internal__:{mixins:{}},register(e,t){this.__internal__.mixins[e]=t},remove(e){delete this.__internal__.mixins[e]},new:(e,t)=>`${e}.${t}`,newStgMixin:(e,t)=>({kind:`${e}.${t}`})}};let i=r.compiler.__internal__;const s="$patches";const c=(e,t)=>{if(!e[s]){e[s]={};for(const r in t){const n=e[r];e[s][r]=e[r],e[r]=n?function(...e){return t[r].call(this,((...e)=>n.call(this,...e)),...e)}:function(...e){return t[r].call(this,(()=>{}),...e)}}}},p=e=>{if("object"==typeof e[s]){for(const t in Object.keys(e[s])){const r=e[s][t];e[t]=r}e[s]=void 0}},l=r.compiler.tools.JSGenerator,a=r.compiler.tools.ScriptTreeGenerator,_=r.compiler.tools.IRGenerator,d=l.prototype,u=a.prototype;_.prototype;return p(d),p(u),c(d,{descendStackedBlock:i.descendStackedBlock_JSG,descendInput:i.descendInput_JSG}),c(u,{descendInput:i.descendInput_STG,descendStackedBlock:i.descendStackedBlock_STG}),r.constructor.prototype.compiler=r.compiler,!0}const anon$compilerUtilityImported=anon$compilerUtility({});anon$compilerUtilityImported?console.log("Compiler utility loaded successfully.\nUse vm.compiler to access it."):console.error("The Compiler-Utility has failed to load.");